---
version: '3.8'

services:
  datetime-validator:
    build: .
    container_name: mcp-datetime
    volumes:
      - ~/workspace:/workspace
    restart: unless-stopped
    command: python datetime_validator.py --directory /workspace  # 通常モード（修正実行）
    user: "${UID:-1000}:${GID:-1000}"  # ホストユーザーIDと同じに設定
    networks:
      - mcp-network

  codeql:
    build: .
    container_name: mcp-codeql
    volumes:
      - ~/workspace:/workspace
    profiles:
      - tools
    command: codeql --help
    networks:
      - mcp-network

networks:
  mcp-network:
    driver: bridge
