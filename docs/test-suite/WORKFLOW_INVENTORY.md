# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ£šå¸ã—çµæœï¼ˆ2025å¹´10æœˆ2æ—¥ï¼‰

## ã‚µãƒãƒªãƒ¼

- **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: 8æœ¬
- **ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«**: 5æœ¬
- **åˆè¨ˆã‚µã‚¤ã‚º**: ç´„100KB

## ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åˆ†æ

### ğŸ”´ çµ±åˆãƒ»å‰Šæ¸›ãŒå¿…è¦ï¼ˆCriticalï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«å | è¡Œæ•°/ã‚µã‚¤ã‚º | ç›®çš„ | å®Ÿè¡Œé »åº¦ | å„ªå…ˆåº¦ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-----------|------------|------|---------|--------|-----------|
| **ci.yml** | 522è¡Œ/18KB | ãƒ¡ã‚¤ãƒ³CI | PR/Push | â­â­â­ | quality-gates.ymlã¨çµ±åˆ |
| **quality-gates.yml** | 791è¡Œ/31KB | å“è³ªã‚²ãƒ¼ãƒˆ | PR/Push/å®šæœŸ | â­â­â­ | ci.ymlã«çµ±åˆ |
| **basic-test.yml** | 3.3KB | åŸºæœ¬ãƒ†ã‚¹ãƒˆ | PR | â­â­ | ci.ymlã«çµ±åˆ |
| **tmp-test-env.yml** | 288B | ä¸€æ™‚ãƒ†ã‚¹ãƒˆ | æ‰‹å‹•ï¼Ÿ | âŒ | **å‰Šé™¤** |

**å•é¡Œç‚¹**:
- ci.ymlï¼ˆ522è¡Œï¼‰ã¨quality-gates.ymlï¼ˆ791è¡Œï¼‰ãŒé‡è¤‡ã—ãŸå‡¦ç†ã‚’å®Ÿè¡Œ
- åˆè¨ˆ1,313è¡Œã€49KBã¨éå‰°ã«è‚¥å¤§åŒ–
- basic-test.ymlã¯å†—é•·ï¼ˆci.ymlã§å®Ÿç¾å¯èƒ½ï¼‰
- tmp-test-env.ymlã¯ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã§ä¸è¦

**çµ±åˆææ¡ˆ**:
```
æ–°ci.yml (200-300è¡Œ)
â”œâ”€ fast-lint (ç¾ci.ymlã‹ã‚‰)
â”œâ”€ unit-tests (æ–°è¦ï¼‰
â”œâ”€ integration-tests (ç¾quality-gates.ymlã‹ã‚‰)
â”œâ”€ security-scan (ç¾quality-gates.ymlã‹ã‚‰)
â””â”€ build-validation (ç¾basic-test.ymlã‹ã‚‰)
```

### ğŸŸ¢ ç¶­æŒï¼ˆKeepï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«å | ã‚µã‚¤ã‚º | ç›®çš„ | å®Ÿè¡Œé »åº¦ | å„ªå…ˆåº¦ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-----------|--------|------|---------|--------|-----------|
| **security.yml** | 5.2KB | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ | PR/Push/å®šæœŸ | â­â­â­ | ç¶­æŒï¼ˆè»½å¾®ãªæœ€é©åŒ–ï¼‰ |
| **release.yml** | 16KB | ãƒªãƒªãƒ¼ã‚¹è‡ªå‹•åŒ– | ã‚¿ã‚°pushæ™‚ | â­â­â­ | ç¶­æŒï¼ˆè»½å¾®ãªæœ€é©åŒ–ï¼‰ |
| **dependabot-auto-merge.yml** | 817B | Dependabotè‡ªå‹•ãƒãƒ¼ã‚¸ | Dependabot PRæ™‚ | â­â­â­ | ç¶­æŒ |

### ğŸŸ¡ è¦æ¤œè¨ï¼ˆReviewï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«å | ã‚µã‚¤ã‚º | ç›®çš„ | å®Ÿè¡Œé »åº¦ | å„ªå…ˆåº¦ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-----------|--------|------|---------|--------|-----------|
| **template-validation.yml** | 19KB | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¤œè¨¼ | PR/Push | â­â­ | ç”¨é€”ç¢ºèªå¾Œã€çµ±åˆã¾ãŸã¯å‰Šé™¤ |

**æ¤œè¨ãƒã‚¤ãƒ³ãƒˆ**:
- template-validation.ymlã®å®Ÿéš›ã®ç”¨é€”ãŒä¸æ˜ç¢º
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚·ãƒ³ãƒ—ãƒ«åŒ–ã•ã‚ŒãŸãŸã‚ã€å¿…è¦æ€§ã‚’å†è©•ä¾¡

## ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«åˆ†æ

### ğŸ“ æ•´ç†ãŒå¿…è¦

| ãƒ•ã‚¡ã‚¤ãƒ«å | ã‚µã‚¤ã‚º | çŠ¶æ³ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-----------|--------|------|-----------|
| basic-test.yml.sample | 3.3KB | basic-test.ymlã¨åŒä¸€ï¼Ÿ | docs/examples/workflows/ã¸ç§»å‹•ã¾ãŸã¯å‰Šé™¤ |
| comprehensive-tests.yml.sample | 16KB | å¤§è¦æ¨¡ãƒ†ã‚¹ãƒˆè¨­å®šä¾‹ | docs/examples/workflows/ã¸ç§»å‹• |
| docs-check.yml.sample | 3.4KB | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯ä¾‹ | docs/examples/workflows/ã¸ç§»å‹• |
| local-ci.yml.sample | 37KB | ãƒ­ãƒ¼ã‚«ãƒ«CIè¨­å®šï¼ˆè¶…å¤§è¦æ¨¡ï¼‰ | ç°¡ç•¥åŒ–ã—ã¦docs/examples/workflows/ã¸ç§»å‹• |
| security-scan.yml.sample | 12KB | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ä¾‹ | docs/examples/workflows/ã¸ç§»å‹• |

**å•é¡Œç‚¹**:
- .sampleãƒ•ã‚¡ã‚¤ãƒ«ãŒ.github/workflows/ã«æ•£åœ¨
- local-ci.yml.sampleãŒ37KBã¨ç•°å¸¸ã«å¤§ãã„
- ç”¨é€”ãƒ»æ„å›³ãŒä¸æ˜ç¢º

**ææ¡ˆ**:
```
docs/examples/workflows/
â”œâ”€ basic-ci-example.yml          (basic-test.yml.sample)
â”œâ”€ comprehensive-tests.yml       (comprehensive-tests.yml.sample)
â”œâ”€ docs-validation.yml           (docs-check.yml.sample)
â”œâ”€ local-development-ci.yml      (local-ci.yml.sample - ç°¡ç•¥åŒ–)
â””â”€ security-scanning.yml         (security-scan.yml.sample)
```

## é‡è¤‡å‡¦ç†ã®è©³ç´°åˆ†æ

### ci.yml vs quality-gates.yml

**ci.yml** (522è¡Œ):
```yaml
jobs:
  fast-lint:           # 30è¡Œ - åŸºæœ¬lint
  install-deps:        # 50è¡Œ - ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  pytest:              # 80è¡Œ - Pytestãƒ†ã‚¹ãƒˆ
  bats-test:           # 60è¡Œ - Batsãƒ†ã‚¹ãƒˆ
  docker-build:        # 70è¡Œ - Dockerãƒ“ãƒ«ãƒ‰
  security-basic:      # 50è¡Œ - åŸºæœ¬ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
  quality-check:       # 100è¡Œ - å“è³ªãƒã‚§ãƒƒã‚¯
  ... (ãã®ä»–)
```

**quality-gates.yml** (791è¡Œ):
```yaml
jobs:
  distribution-quality:     # 150è¡Œ - é…å¸ƒå“è³ª
  documentation-validation: # 120è¡Œ - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œè¨¼
  template-validation:      # 100è¡Œ - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¤œè¨¼
  end-to-end-validation:    # 200è¡Œ - E2Eæ¤œè¨¼
  security-comprehensive:   # 150è¡Œ - åŒ…æ‹¬çš„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
  performance-validation:   # 71è¡Œ - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
  ... (ãã®ä»–)
```

**é‡è¤‡ã—ã¦ã„ã‚‹å‡¦ç†**:
1. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆä¸¡æ–¹ã§å®Ÿè¡Œï¼‰
2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆä¸¡æ–¹ã§å®Ÿè¡Œï¼‰
3. åŸºæœ¬ãƒ†ã‚¹ãƒˆï¼ˆci.ymlã¨quality-gates.ymlã§é¡ä¼¼ï¼‰
4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆsecurity-basicã¨security-comprehensiveï¼‰
5. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œè¨¼ï¼ˆä¸¡æ–¹ã§å®Ÿè¡Œï¼‰

**çµ±åˆå¾Œã®æƒ³å®šæ§‹é€ **:
```yaml
# æ–°ci.yml (250-300è¡Œç›®æ¨™)
jobs:
  # --- Phase 1: Fast Checks (ä¸¦åˆ—å®Ÿè¡Œ) ---
  fast-lint:              # 20è¡Œ - é«˜é€Ÿlintï¼ˆruff, shellcheckç­‰ï¼‰

  # --- Phase 2: Build & Unit Tests (ä¸¦åˆ—å®Ÿè¡Œ) ---
  docker-build:           # 40è¡Œ - Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
  unit-tests:             # 50è¡Œ - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆpytestï¼‰

  # --- Phase 3: Integration Tests (ä¸¦åˆ—å®Ÿè¡Œ) ---
  integration-tests:      # 60è¡Œ - çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆpytest + batsï¼‰
  security-scan:          # 40è¡Œ - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³

  # --- Phase 4: E2E & Validation (æ¡ä»¶ä»˜ãå®Ÿè¡Œ) ---
  e2e-tests:             # 50è¡Œ - E2Eãƒ†ã‚¹ãƒˆï¼ˆmainãƒ–ãƒ©ãƒ³ãƒã®ã¿ï¼‰
  performance-check:      # 40è¡Œ - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼ï¼ˆmainãƒ–ãƒ©ãƒ³ãƒã®ã¿ï¼‰
```

## composite actionã¸ã®åˆ‡ã‚Šå‡ºã—å€™è£œ

### å…±é€šå‡¦ç†ã‚’å†åˆ©ç”¨å¯èƒ½ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«

```
.github/actions/
â”œâ”€ setup-environment/       # ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆPython, uv, Dockerç­‰ï¼‰
â”‚  â””â”€ action.yml
â”œâ”€ install-dependencies/    # ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
â”‚  â””â”€ action.yml
â”œâ”€ run-unit-tests/         # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
â”‚  â””â”€ action.yml
â”œâ”€ run-integration-tests/  # çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
â”‚  â””â”€ action.yml
â””â”€ run-security-scan/      # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³å®Ÿè¡Œ
   â””â”€ action.yml
```

**æœŸå¾…åŠ¹æœ**:
- å„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§å†åˆ©ç”¨å¯èƒ½
- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®å‘ä¸Š
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤§å¹…ãªå‰Šæ¸›

## æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³åº§ã«å®Ÿæ–½å¯èƒ½

1. **tmp-test-env.ymlã®å‰Šé™¤** âœ‚ï¸
2. **ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’docs/examples/workflows/ã«ç§»å‹•** ğŸ“
3. **basic-test.ymlã‚’ci.ymlã«çµ±åˆ** ğŸ”„

### æ®µéšçš„ã«å®Ÿæ–½

4. **composite actionã®ä½œæˆ** ğŸ”§
   - setup-environment
   - install-dependencies
   - run-tests

5. **ci.ymlã¨quality-gates.ymlã®çµ±åˆ** ğŸ”„
   - æ–°ci.ymlã«çµ±åˆï¼ˆ250-300è¡Œç›®æ¨™ï¼‰
   - ä¸¦åˆ—å®Ÿè¡Œãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ€é©åŒ–

6. **template-validation.ymlã®ç”¨é€”ç¢ºèª** ğŸ”
   - å¿…è¦ãªã‚‰ç¶­æŒã€ä¸è¦ãªã‚‰å‰Šé™¤ã¾ãŸã¯çµ±åˆ

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

7. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã‚¬ã‚¤ãƒ‰ã®ä½œæˆ** ğŸ“
   - å„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç›®çš„ãƒ»å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ˜è¨˜
   - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

## æ¨å®šå‰Šæ¸›åŠ¹æœ

| é …ç›® | ç¾çŠ¶ | ç›®æ¨™ | å‰Šæ¸›ç‡ |
|-----|------|------|--------|
| ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | 8æœ¬ | 5æœ¬ | 37.5% |
| åˆè¨ˆè¡Œæ•° | ç´„2,000è¡Œ | ç´„600è¡Œ | 70% |
| åˆè¨ˆã‚µã‚¤ã‚º | ç´„100KB | ç´„30KB | 70% |
| CIå®Ÿè¡Œæ™‚é–“ï¼ˆæ¨å®šï¼‰ | 15-20åˆ† | 8-12åˆ† | 40-50% |

## å®Ÿè¡Œæ™‚é–“ã®æœ€é©åŒ–æˆ¦ç•¥

### ä¸¦åˆ—å®Ÿè¡Œã®æ´»ç”¨

```yaml
# ç¾çŠ¶: ç›´åˆ—å®Ÿè¡Œï¼ˆé…ã„ï¼‰
lint â†’ tests â†’ build â†’ security â†’ docs

# æ”¹å–„: ä¸¦åˆ—å®Ÿè¡Œï¼ˆé€Ÿã„ï¼‰
Phase 1: lint (2åˆ†)
Phase 2: [unit-tests, docker-build] (3åˆ†)
Phase 3: [integration-tests, security-scan] (5åˆ†)
Phase 4: e2e-tests (mainã®ã¿, 7åˆ†)
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ€é©åŒ–

1. **uvã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Pythonä¾å­˜é–¢ä¿‚ï¼ˆ~2åˆ†çŸ­ç¸®ï¼‰
2. **Dockerãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ï¼ˆ~3åˆ†çŸ­ç¸®ï¼‰
3. **npmã‚­ãƒ£ãƒƒã‚·ãƒ¥**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰

### æ¡ä»¶ä»˜ãå®Ÿè¡Œ

- **E2Eãƒ†ã‚¹ãƒˆ**: mainãƒ–ãƒ©ãƒ³ãƒãƒ»ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã¿
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: mainãƒ–ãƒ©ãƒ³ãƒã®ã¿
- **åŒ…æ‹¬çš„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: å®šæœŸå®Ÿè¡Œï¼ˆdailyï¼‰
